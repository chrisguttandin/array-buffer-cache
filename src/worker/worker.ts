// tslint:disable-next-line:max-line-length
export const worker = `!function(){"use strict";function e(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(r,t,a){return t&&e(r.prototype,t),a&&e(r,a),r}}(),t=new(function(){function t(){e(this,t),this._store=new Map}return r(t,[{key:"clone",value:function(e){var r=this._store.get(e);if(void 0===r)throw new Error('There is no arrayBuffer stored with an id called "'+e+'".');return r.slice(0)}},{key:"purge",value:function(e){if(!this._store.delete(e))throw new Error('There is no arrayBuffer stored with an id called "'+e+'".')}},{key:"slice",value:function(e,r,t){var a=this._store.get(e);if(void 0===a)throw new Error('There is no arrayBuffer stored with an id called "'+e+'".');return a.slice(r,null===t?a.byteLength:t)}},{key:"store",value:function(e,r){if(this._store.has(e))throw new Error('There is already an arrayBuffer stored with an id called "'+e+'".');this._store.set(e,r)}}]),t}());addEventListener("message",function e(r,a){var s=a.data;try{if("clone"===s.method){var n=s.id,i=s.params.arrayBufferId,o=t.clone(i);r.postMessage({error:null,id:n,result:{arrayBuffer:o}},[o])}else if("connect"===s.method){var l=s.id,u=s.params.port;u.start(),u.addEventListener("message",e.bind(null,u)),r.postMessage({error:null,id:l,result:null})}else if("disconnect"===s.method){var d=s.id;s.params.port.close(),r.postMessage({error:null,id:d,result:null})}else if("purge"===s.method){var f=s.id,c=s.params.arrayBufferId;t.purge(c),r.postMessage({error:null,id:f,result:null})}else if("slice"===s.method){var h=s.id,p=s.params,v=p.arrayBufferId,y=p.begin,g=p.end,m=void 0===g?null:g,w=t.slice(v,y,m);r.postMessage({error:null,id:h,result:{arrayBuffer:w}},[w])}else if("store"===s.method){var B=s.id,b=s.params,M=b.arrayBuffer,E=b.arrayBufferId;t.store(E,M),r.postMessage({error:null,id:B,result:null})}}catch(e){r.postMessage({error:{message:e.message},id:s.id,result:null})}}.bind(null,self))}();`;
